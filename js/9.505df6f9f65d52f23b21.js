webpackJsonp([9],{"3zX0":function(e,t,a){e.exports=a.p+"img/pp-p.37dec19.png"},LP7K:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("woOf"),n=a.n(s),i=a("esw1"),l=a.n(i),o=a("wa1j"),r=a.n(o),c={name:"personnelposition",components:{tablePagination:a("zeeE").a},data:function(){return{baseInfo:{numbering:"",name:"",sex:"",famousFamily:"",birth:"",educationalLevel:"",maritalStatus:"",crime:"",prisonTerm:"",hasPrisonTerm:"",lastPrisonTerm:"",regionArea:"",prisonHouse:"",superviseValue:"",dutyWarning:"",birthplace:"",city:"",familyContact:"",phone:""},area:"",monitoringHouse:"",supervisionType:"",prisoner:"",starttime:new Date((new Date).setHours(0,0,0,0)),endtime:new Date((new Date).setHours(24,0,0,0)),video:r.a,currentPos:l.a,input:"",pPositionData:[],pageSize:10,currentPage:1,count:0,pPTableData:[],pPHisTrackData:[],options:[],areas:[],houses:[],visiontype:[],value:"",currentPage3:1,page:1,activeName:"second",value6:"",value7:""}},created:function(){this.$route.query.area;this.getAreaData(),this.getHouseData(),this.getVisiontypeData()},computed:{searchPrams:function(){return{area:this.area,monitoringHouse:this.monitoringHouse,supervisionType:this.supervisionType,prisoner:this.prisoner}}},mounted:function(){},methods:{search:function(){var e=this;this.$post(this.urlconfig.ppSearch,this.searchPrams).then(function(t){0===t.status&&(e.pPositionData=t.data)})},pageChange:function(e,t){this.currentPage=e,"curevent"===t&&this.getTableData(e,this.searchPrams)},getAreaData:function(){var e=this;this.$get(this.urlconfig.ppGetAreaData).then(function(t){0===t.status&&(e.areas=t.data)})},getHouseData:function(){var e=this;this.$get(this.urlconfig.ppGetHouseData).then(function(t){0===t.status&&(e.houses=t.data)})},getVisiontypeData:function(){var e=this;this.$get(this.urlconfig.ppGetVisiontypeData).then(function(t){0===t.status&&(e.visiontype=t.data)})},getTableData:function(e,t){var a=this;n()(t,{page:e}),this.$post("/pPTableData",t).then(function(e){0===e.status&&(a.count=e.data.total,a.pPTableData=e.data.data,a.page=e.data.total)})},getPPositionData:function(e,t){var a=this;n()(t,{page:e}),this.$get("/pPositionData",t).then(function(e){0===e.status&&(a.pPositionData=e.data.data,a.page=e.data.total)})},playvideo:function(e,t,a){this.$el.querySelector(".movie-wrap").scrollIntoView()},handleClick:function(e,t){},refreshPrisonerData:function(e){var t={prisonerId:e};this.getPrisonerBaseInfo(t),this.getPrisonerPhotos(t),this.getTodayWarnings(t),this.getCurrActiveArea(t),this.getHisActiveTrack(t)},getPrisonerBaseInfo:function(e){var t=this;this.$get(this.urlconfig.ppGetPrisoner,e).then(function(e){0===e.status&&(t.baseInfo=e.data)})},getPrisonerPhotos:function(e){this.$get(this.urlconfig.ppGetPrionserPhoto,e).then(function(e){e.status})},getTodayWarnings:function(e){var t=this;e.pageIndex=1,e.pageSize=10,this.$get(this.urlconfig.ppGetTodayWarnings,e).then(function(e){0===e.status&&(t.count=e.data.totalRows,t.pPTableData=e.data.items,t.page=e.data.totalRows)})},getCurrActiveArea:function(e){this.$get(this.urlconfig.ppGetCurrActiveArea,e).then(function(e){e.status})},getHisActiveTrack:function(e){var t=this;e.pageIndex=1,e.pageSize=10,e.startTime=new Date((new Date).setHours(10,0,0,0)),e.endTime=new Date((new Date).setHours(20,0,0,0)),this.$get(this.urlconfig.ppGetHisActiveTrack,e).then(function(e){0===e.status&&(t.pPHisTrackData=e.data.items,t.page=e.data.totalRows)})}}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"pp-wrap"},[a("section",{staticClass:"pposition-l fl"},[a("table",[e._m(0),e._v(" "),a("tbody",e._l(e.pPositionData,function(t,s){return a("tr",{key:t.name,on:{click:function(a){e.refreshPrisonerData(t.guid)}}},[a("td",[a("div",{staticClass:"cell"},[e._v(e._s(s+1))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.name))])]),e._v(" "),a("td",[a("div",{staticClass:"cell"},[e._v(e._s(t.numbering))])])])}))])]),e._v(" "),a("section",{staticClass:"pposition-r"},[a("section",{staticClass:"pp-r-t"},[a("span",[e._v("监区:")]),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.area,callback:function(t){e.area=t},expression:"area"}},e._l(e.areas,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",[e._v("监舍:")]),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.monitoringHouse,callback:function(t){e.monitoringHouse=t},expression:"monitoringHouse"}},e._l(e.houses,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",[e._v("监管类型:")]),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.supervisionType,callback:function(t){e.supervisionType=t},expression:"supervisionType"}},e._l(e.visiontype,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),e._v(" "),a("span",[e._v("服刑人员:")]),e._v(" "),a("el-input",{staticClass:"pp-input",attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.prisoner,callback:function(t){e.prisoner=t},expression:"prisoner"}}),e._v(" "),a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),a("section",{staticClass:"pp-r-d clearfix"},[a("section",{staticClass:"pp-r-d-l fl"},[a("p",{staticClass:"h-line"},[e._v("基本信息")]),e._v(" "),a("div",{staticClass:"pp-r-d-l-l fl"},[a("div",[a("span",[e._v("编号:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.numbering,callback:function(t){e.$set(e.baseInfo,"numbering",t)},expression:"baseInfo.numbering"}})],1),e._v(" "),a("div",[a("span",[e._v("姓名:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.name,callback:function(t){e.$set(e.baseInfo,"name",t)},expression:"baseInfo.name"}})],1),e._v(" "),a("div",[a("span",[e._v("性别:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.sex,callback:function(t){e.$set(e.baseInfo,"sex",t)},expression:"baseInfo.sex"}})],1),e._v(" "),a("div",[a("span",[e._v("民族:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.famousFamily,callback:function(t){e.$set(e.baseInfo,"famousFamily",t)},expression:"baseInfo.famousFamily"}})],1),e._v(" "),a("div",[a("span",[e._v("出生日期:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.birth,callback:function(t){e.$set(e.baseInfo,"birth",t)},expression:"baseInfo.birth"}})],1),e._v(" "),a("div",[a("span",[e._v("文化程度:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.educationalLevel,callback:function(t){e.$set(e.baseInfo,"educationalLevel",t)},expression:"baseInfo.educationalLevel"}})],1),e._v(" "),a("div",[a("span",[e._v("婚姻状况:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.maritalStatus,callback:function(t){e.$set(e.baseInfo,"maritalStatus",t)},expression:"baseInfo.maritalStatus"}})],1),e._v(" "),a("div",[a("span",[e._v("罪名:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.crime,callback:function(t){e.$set(e.baseInfo,"crime",t)},expression:"baseInfo.crime"}})],1),e._v(" "),a("div",[a("span",[e._v("刑期:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.prisonTerm,callback:function(t){e.$set(e.baseInfo,"prisonTerm",t)},expression:"baseInfo.prisonTerm"}})],1),e._v(" "),a("div",[a("span",[e._v("已服刑时长:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.hasPrisonTerm,callback:function(t){e.$set(e.baseInfo,"hasPrisonTerm",t)},expression:"baseInfo.hasPrisonTerm"}})],1),e._v(" "),a("div",[a("span",[e._v("剩余时长:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.lastPrisonTerm,callback:function(t){e.$set(e.baseInfo,"lastPrisonTerm",t)},expression:"baseInfo.lastPrisonTerm"}})],1),e._v(" "),a("div",[a("span",[e._v("监区:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.regionArea,callback:function(t){e.$set(e.baseInfo,"regionArea",t)},expression:"baseInfo.regionArea"}})],1),e._v(" "),a("div",[a("span",[e._v("监舍:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.monitoringHouse,callback:function(t){e.$set(e.baseInfo,"monitoringHouse",t)},expression:"baseInfo.monitoringHouse"}})],1),e._v(" "),a("div",[a("span",[e._v("监管类型:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.superviseValue,callback:function(t){e.$set(e.baseInfo,"superviseValue",t)},expression:"baseInfo.superviseValue"}})],1),e._v(" "),a("div",[a("span",[e._v("责任预警:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.dutyWarning,callback:function(t){e.$set(e.baseInfo,"dutyWarning",t)},expression:"baseInfo.dutyWarning"}})],1),e._v(" "),a("div",[a("span",[e._v("籍贯:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.birthplace,callback:function(t){e.$set(e.baseInfo,"birthplace",t)},expression:"baseInfo.birthplace"}}),e._v(" "),a("span",[e._v("省")])],1),e._v(" "),a("div",[a("span"),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.city,callback:function(t){e.$set(e.baseInfo,"city",t)},expression:"baseInfo.city"}}),e._v(" "),a("span",[e._v("市")])],1),e._v(" "),a("div",[a("span",[e._v("家庭联系人:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.familyContact,callback:function(t){e.$set(e.baseInfo,"familyContact",t)},expression:"baseInfo.familyContact"}})],1),e._v(" "),a("div",[a("span",[e._v("联系电话:")]),e._v(" "),a("el-input",{attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.baseInfo.phone,callback:function(t){e.$set(e.baseInfo,"phone",t)},expression:"baseInfo.phone"}})],1)]),e._v(" "),e._m(1)]),e._v(" "),a("section",{staticClass:"pp-r-d-r"},[a("p",{staticClass:"h-line"},[e._v("当日预警事件")]),e._v(" "),a("section",{staticClass:"el-table-wrap clearfix"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.pPTableData,stripe:""}},[a("el-table-column",{attrs:{prop:"startTime",label:"预警开始时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endTime",label:"预警结束时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"timeLen",label:"预警时长"}}),e._v(" "),a("el-table-column",{attrs:{prop:"warningEventType",label:"预警事件"}}),e._v(" "),a("el-table-column",{attrs:{prop:"warningArea",label:"所在区域"}}),e._v(" "),a("el-table-column",{attrs:{label:"监控视频"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operating"},[a("img",{staticClass:"v-align-m",attrs:{src:e.video,alt:""}}),e._v(" "),a("span",{on:{click:function(a){e.playvideo(t.$index,t.row,"curevent")}}},[e._v("查看")])])]}}])})],1),e._v(" "),a("div",{staticClass:"el-pagination-wrap"},[a("table-pagination",{attrs:{"page-index":e.currentPage,total:e.count,"page-size":e.pageSize},on:{change:function(t){e.pageChange(e.currentPage,"curevent")}}})],1)],1)]),e._v(" "),a("section",{staticClass:"pp-r-d-r pp-r-d-r-d"},[a("p",{staticClass:"h-line"},[a("el-tabs",{staticClass:"pos-res",on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"当前活动区域",name:"first"}},[a("img",{attrs:{src:e.currentPos,alt:""}})]),e._v(" "),a("el-tab-pane",{attrs:{label:"历史活动区域",name:"second"}},[a("section",{staticClass:"filter-wrap"},[a("span",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[e._v("时间")]),e._v(" "),a("el-date-picker",{attrs:{size:"mini",type:"datetime",placeholder:"选择开始时间"},model:{value:e.starttime,callback:function(t){e.starttime=t},expression:"starttime"}}),e._v(" "),a("span",[e._v("-")]),e._v(" "),a("el-date-picker",{attrs:{size:"mini",type:"datetime",placeholder:"选择结束时间"},model:{value:e.endtime,callback:function(t){e.endtime=t},expression:"endtime"}})],1)]),e._v(" "),a("section",{staticClass:"el-table-wrap clearfix"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.pPHisTrackData,stripe:""}},[a("el-table-column",{attrs:{prop:"startTime",label:"进时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"endTime",label:"出时间"}}),e._v(" "),a("el-table-column",{attrs:{prop:"areaName",label:"区域"}}),e._v(" "),a("el-table-column",{attrs:{prop:"stayTimeLen",label:"停留时间"}}),e._v(" "),a("el-table-column",{attrs:{label:"监控视频"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("div",{staticClass:"operating"},[a("img",{staticClass:"v-align-m",attrs:{src:e.video,alt:""}}),e._v(" "),a("span",{on:{click:function(a){e.playVideo(t.$index,t.row,"hisevent")}}},[e._v("查看")])])]}}])})],1),e._v(" "),a("div",{staticClass:"el-pagination-wrap"},[a("table-pagination",{attrs:{"page-index":e.currentPage,total:e.count,"page-size":e.pageSize},on:{change:function(t){e.pageChange(e.currentPage,"hisevent")}}})],1)],1)])],1)],1)]),e._v(" "),e._m(2)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("thead",[t("tr",[t("th",[t("div",{staticClass:"cell"},[this._v("序号")])]),this._v(" "),t("th",[t("div",{staticClass:"cell"},[this._v("姓名")])]),this._v(" "),t("th",[t("div",{staticClass:"cell"},[this._v("编号")])])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"pp-r-d-l-r fr"},[s("div",{staticClass:"imgWrap",attrs:{title:"照片"}},[s("span",{staticClass:"pp-photo"}),e._v(" "),s("div",[s("img",{attrs:{src:a("3zX0"),alt:""}}),e._v(" "),s("span",[e._v("正面")])]),e._v(" "),s("div",[s("img",{attrs:{src:a("3zX0"),alt:""}}),e._v(" "),s("span",[e._v("低头")])]),e._v(" "),s("div",[s("img",{attrs:{src:a("3zX0"),alt:""}}),e._v(" "),s("span",[e._v("侧面")])]),e._v(" "),s("div",[s("img",{attrs:{src:a("3zX0"),alt:""}}),e._v(" "),s("span",[e._v("抬头")])])]),e._v(" "),s("div",{staticClass:"imgWrap",attrs:{title:"视觉识别码"}},[s("span"),e._v(" "),s("div",[s("img",{attrs:{src:a("3zX0"),alt:""}}),e._v(" "),s("span",[e._v("正面")])]),e._v(" "),s("div",[s("img",{attrs:{src:a("3zX0"),alt:""}}),e._v(" "),s("span",[e._v("低头")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("section",{staticClass:"movie-wrap"},[t("video",{attrs:{width:"320",height:"240",controls:"controls"}},[t("source",{attrs:{src:"movie.ogg",type:"video/ogg"}}),this._v(" "),t("source",{attrs:{src:"movie.mp4",type:"video/mp4"}}),this._v(" Your browser does not support the video tag.\n        ")]),this._v(" "),t("video",{attrs:{width:"320",height:"240",controls:"controls"}},[t("source",{attrs:{src:"movie.ogg",type:"video/ogg"}}),this._v(" "),t("source",{attrs:{src:"movie.mp4",type:"video/mp4"}}),this._v(" Your browser does not support the video tag.\n        ")])])}]};var v=a("VU/8")(c,p,!1,function(e){a("yTyH")},"data-v-54073376",null);t.default=v.exports},esw1:function(e,t,a){e.exports=a.p+"img/currentPos.3a25300.png"},yTyH:function(e,t){}});
//# sourceMappingURL=9.505df6f9f65d52f23b21.js.map