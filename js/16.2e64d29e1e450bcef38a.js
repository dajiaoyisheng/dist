webpackJsonp([16],{LP7K:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),o={components:{"v-position":a("tHJb").a},data:function(){return{priCodes:[],paiCodes:[],pPositionData:[],supervisionTypes:[],params:{priCode:"",paiCode:"",prisoner:"",supervisionType:""}}},mounted:function(){this.getPriCodesData(),this.getSupervisionTypes()},methods:{getPriCodesData:function(){var e=this;this.$get(this.urlconfig.ppGetAreaData).then(function(t){0===t.status&&(e.priCodes=t.data,e.priCodes.length>0?(e.params.priCode=e.priCodes[0].priCode,e.getPaiCodesData()):e.params.priCode="")})},getPaiCodesData:function(){var e=this,t={priCode:this.params.priCode};this.$post(this.urlconfig.ppGetHouseData,t).then(function(t){0===t.status&&(e.paiCodes=t.data,e.paiCodes.length>0?(e.params.paiCode=e.paiCodes[0].paiCode,e.getPPositionData()):e.params.paiCode="")})},getSupervisionTypes:function(){var e=this;this.$get(this.urlconfig.ppGetVisiontypeData).then(function(t){0===t.status&&(e.supervisionTypes=t.data,e.supervisionTypes.length>0?e.params.supervisionType=e.supervisionTypes[0].sCode:e.params.supervisionType="")})},getPPositionData:function(){var e=this,t={params:i()(this.params)};this.$post(this.urlconfig.ppSearch,t).then(function(t){if(0===t.status&&(e.pPositionData=t.data,e.pPositionData.length>0)){var a=e.pPositionData[0];e.$refs.pPositionTable.setCurrentRow(a);var s=e.pPositionData[0].criId;e.$nextTick(function(){e.$refs.vPosition.getPrisonerBaseInfo(s)})}})},getPrisonerBaseInfo:function(e){var t=this;this.$nextTick(function(){t.$refs.vPosition.getPrisonerBaseInfo(e.criId)})}}},n={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"pp-wrap"}},[a("section",{staticClass:"pp-left"},[a("el-table",{ref:"pPositionTable",attrs:{data:e.pPositionData,stripe:"","highlight-current-row":!0},on:{"row-click":e.getPrisonerBaseInfo}},[a("el-table-column",{attrs:{type:"index",width:"50"}}),e._v(" "),a("el-table-column",{attrs:{prop:"criName",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"criCode",label:"编号"}})],1)],1),e._v(" "),a("section",{staticClass:"pn-right"},[a("section",{staticStyle:{padding:"10px"}},[a("span",[e._v("监区:")]),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择"},on:{change:e.getPaiCodesData},model:{value:e.params.priCode,callback:function(t){e.$set(e.params,"priCode",t)},expression:"params.priCode"}},e._l(e.priCodes,function(e){return a("el-option",{key:e.priCode,attrs:{label:e.priName,value:e.priCode}})})),e._v(" "),a("span",[e._v("监舍:")]),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.params.paiCode,callback:function(t){e.$set(e.params,"paiCode",t)},expression:"params.paiCode"}},e._l(e.paiCodes,function(e){return a("el-option",{key:e.paiCode,attrs:{label:e.paiName,value:e.paiCode}})})),e._v(" "),a("span",[e._v("监管类型:")]),e._v(" "),a("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.params.supervisionType,callback:function(t){e.$set(e.params,"supervisionType",t)},expression:"params.supervisionType"}},e._l(e.supervisionTypes,function(e){return a("el-option",{key:e.sCode,attrs:{label:e.sName,value:e.sCode}})})),e._v(" "),a("span",[e._v("服刑人员:")]),e._v(" "),a("el-input",{staticClass:"pp-input",attrs:{size:"small",placeholder:"请输入内容"},model:{value:e.params.prisoner,callback:function(t){e.$set(e.params,"prisoner",t)},expression:"params.prisoner"}}),e._v(" "),a("el-button",{staticClass:"search-btn",attrs:{size:"mini",type:"primary"},on:{click:e.getPPositionData}},[e._v("查询")])],1),e._v(" "),a("section",{staticStyle:{height:"calc(100% - 120px)"}},[a("v-position",{ref:"vPosition"})],1)])])},staticRenderFns:[]};var r=a("VU/8")(o,n,!1,function(e){a("wM0F")},"data-v-03abe81a",null);t.default=r.exports},wM0F:function(e,t){}});
//# sourceMappingURL=16.2e64d29e1e450bcef38a.js.map