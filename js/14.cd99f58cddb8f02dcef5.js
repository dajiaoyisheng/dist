webpackJsonp([14],{"82Sr":function(e,a,n){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var t=n("wa1j"),l=n.n(t),r={name:"posunusual",components:{tablePagination:n("zeeE").a},data:function(){return{count:0,message:"定位异常预警",video:l.a,params:{warningType:"",prisonerType:"",prisonerName:"",period:[new Date,new Date]},prisonerInfo:[],warningType:[],warningTypes:[],editArea:"",curChangeIndex:null,prisonerTypes:[],ppuTableDatas:[],changeCur:null}},created:function(){this.getCameraList()},methods:{pageChange:function(e){this.currentPage=e,this.getCameraList(e)},filter:function(){},clear:function(){this.params.period=[new Date,new Date],this.params.warningType="",this.params.prisonerType="",this.params.prisonerName=""},showVideo:function(e,a){this.$router.push({path:"/personnelposition"})},getCameraList:function(e){var a=this;this.$post("/getCameraList",{page:e}).then(function(e){a.prisonerInfo=e.data.items,a.count=e.data.totalRows})},changeArea:function(e,a){this.changeCur=e,this.curChangeIndex=e}},watch:{editArea:function(e,a){var n=this;this.warningTypes.map(function(a,t){e===a.value&&(n.prisonerInfo[n.curChangeIndex].warningArea=a.label)}),this.curChangeIndex=null}},mounted:function(){var e=this;this.$get("/getWarningTypes").then(function(a){e.warningTypes=a.data})}},s={render:function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("div",{attrs:{id:"posunusual"}},[n("p",{staticClass:"contentInfo"},[e._v("摄像头列表")]),e._v(" "),n("section",{staticClass:"contentMain"},[n("section",{staticClass:"puu-params"},[n("el-row",[n("el-col",{attrs:{span:3}},[n("span",[e._v("监区:")]),e._v(" "),n("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.params.warningType,callback:function(a){e.$set(e.params,"warningType",a)},expression:"params.warningType"}},e._l(e.warningTypes,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),n("el-col",{attrs:{span:3}},[n("span",[e._v("区域:")]),e._v(" "),n("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.params.warningType,callback:function(a){e.$set(e.params,"warningType",a)},expression:"params.warningType"}},e._l(e.warningTypes,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),n("el-col",{attrs:{span:5}},[n("span",[e._v("摄像头类型:")]),e._v(" "),n("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.params.warningType,callback:function(a){e.$set(e.params,"warningType",a)},expression:"params.warningType"}},e._l(e.warningTypes,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),n("el-col",{attrs:{span:5}},[n("span",[e._v("视频服务地址:")]),e._v(" "),n("el-select",{attrs:{size:"small",placeholder:"请选择"},model:{value:e.params.warningType,callback:function(a){e.$set(e.params,"warningType",a)},expression:"params.warningType"}},e._l(e.warningTypes,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),n("el-col",{attrs:{span:7}},[n("span",[e._v("摄像头:")]),e._v(" "),n("el-input",{staticClass:"pp-input",attrs:{size:"small",placeholder:"请输入摄像头编号或名称",clearable:""},model:{value:e.params.prisonerName,callback:function(a){e.$set(e.params,"prisonerName",a)},expression:"params.prisonerName"}},[n("el-button",{attrs:{slot:"append"},on:{click:e.filter},slot:"append"},[e._v("查询")])],1)],1),e._v(" "),n("el-col",{attrs:{span:1}},[n("el-button",{staticClass:"primary",attrs:{size:"small"},on:{click:function(a){e.clear()}}},[e._v("保存")])],1)],1)],1),e._v(" "),n("section",{staticClass:"el-table-wrap"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.prisonerInfo,stripe:""}},[n("el-table-column",{attrs:{prop:"startTime",label:"监区"}}),e._v(" "),n("el-table-column",{attrs:{prop:"endTime",label:"楼宇"}}),e._v(" "),n("el-table-column",{attrs:{prop:"timeLen",label:"楼层"}}),e._v(" "),n("el-table-column",{attrs:{prop:"prisonerType",label:"房间/过道"}}),e._v(" "),n("el-table-column",{attrs:{prop:"warningType",label:"摄像头编号"}}),e._v(" "),n("el-table-column",{attrs:{prop:"prisonerName",label:"摄像头名称"}}),e._v(" "),n("el-table-column",{attrs:{prop:"prisonerType",label:"摄像头类型"}}),e._v(" "),n("el-table-column",{attrs:{prop:"warningArea",label:"所在区域"},scopedSlots:e._u([{key:"default",fn:function(a){return[n("div",{on:{click:function(n){e.changeArea(a.$index,a.row)}}},[n("el-select",{directives:[{name:"show",rawName:"v-show",value:e.changeCur===a.$index,expression:"changeCur === scope.$index"}],attrs:{size:"small",placeholder:"请选择"},on:{blur:function(a){e.changeCur=null}},model:{value:e.editArea,callback:function(a){e.editArea=a},expression:"editArea"}},e._l(e.warningTypes,function(e){return n("el-option",{key:e.label,attrs:{label:e.label,value:e.value}})})),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.changeCur!==a.$index,expression:"changeCur !== scope.$index"}]},[e._v(e._s(a.row.warningArea))])],1)]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"timeLen",label:"坐标位置"}}),e._v(" "),n("el-table-column",{attrs:{prop:"timeLen",label:"摄像头方向"}}),e._v(" "),n("el-table-column",{attrs:{prop:"timeLen",label:"相邻摄像头"}}),e._v(" "),n("el-table-column",{attrs:{prop:"timeLen",label:"视频服务地址"}}),e._v(" "),n("el-table-column",{attrs:{label:"查看视频"},scopedSlots:e._u([{key:"default",fn:function(a){return[n("router-link",{staticClass:"num-color",attrs:{tag:"a",to:{path:"/personnelposition",query:{name:a.row.prisonerName}}}},[n("img",{staticClass:"v-align-m",attrs:{src:e.video,alt:""}}),n("span",[e._v(" 查看")])])]}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"warningArea",label:"备注"}})],1),e._v(" "),n("div",{staticClass:"el-pagination-wrap text-center"},[n("table-pagination",{attrs:{total:e.count},on:{change:e.pageChange}})],1)],1)])])},staticRenderFns:[]};var i=n("VU/8")(r,s,!1,function(e){n("YDqb")},"data-v-3678af87",null);a.default=i.exports},YDqb:function(e,a){}});
//# sourceMappingURL=14.cd99f58cddb8f02dcef5.js.map