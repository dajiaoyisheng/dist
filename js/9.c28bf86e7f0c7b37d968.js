webpackJsonp([9],{SzpZ:function(t,e){},WtTm:function(t,e){},csM1:function(t,e){},ldGv:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r={data:function(){return{labelPosition:"right",form:{userName:"",passWord:"",insurePwd:""},rules:{userName:[{required:!0,message:"请输入用户名称",trigger:"blur"}],passWord:[{required:!0,message:"请输入用户密码",trigger:"blur"}],insurePwd:[{required:!0,message:"请再次确认密码",trigger:"blur"}]}}},methods:{submitForm:function(t){var e=this;this.$refs[t].validate(function(t){if(!t)return!1;alert("创建成功"),e.resetForm("form")})},resetForm:function(t){this.$refs[t].resetFields()}}},s={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"userDialog"}},[a("el-form",{ref:"form",staticClass:"demo-form",attrs:{"label-position":t.labelPosition,"label-width":"100px",model:t.form,rules:t.rules}},[a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"用户名称",prop:"userName"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{clearable:""},model:{value:t.form.userName,callback:function(e){t.$set(t.form,"userName",e)},expression:"form.userName"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"用户密码",prop:"passWord"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{type:"password",clearable:""},model:{value:t.form.passWord,callback:function(e){t.$set(t.form,"passWord",e)},expression:"form.passWord"}})],1)],1)],1),t._v(" "),a("el-row",[a("el-col",[a("el-form-item",{attrs:{label:"确认密码",prop:"insurePwd"}},[a("el-input",{staticStyle:{width:"220px"},attrs:{type:"password",clearable:""},model:{value:t.form.insurePwd,callback:function(e){t.$set(t.form,"insurePwd",e)},expression:"form.insurePwd"}})],1)],1)],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(e){t.submitForm("form")}}},[t._v("保存")]),t._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(e){t.resetForm("form")}}},[t._v("重置")])],1)],1)],1)},staticRenderFns:[]};var n={data:function(){return{dialogTitle:"新增用户",count:0,addUser:!1,parameter:{name:""},loggerList:[],userList:[]}},methods:{changeCurrent:function(){alert("分页")},changeTabs:function(t,e){var a=e.target.getAttribute("id");"tab-0"==a?this.queryLoggers():"tab-1"==a&&this.queryUsers()},queryLogger:function(){alert("搜索关键字")},queryLoggers:function(){var t=this;this.$ajxj.get("/getLoggers").then(function(e){t.count=e.data.count,t.loggerList=e.data.data}).catch(function(t){}).then(function(){})},queryUser:function(){alert("搜索用户")},queryUsers:function(){var t=this;this.$ajxj.get("/getUsers").then(function(e){t.count=e.data.count,t.userList=e.data.data}).catch(function(t){}).then(function(){})},deleteRow:function(t,e){var a=this;this.$confirm("是否删除用户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){a.userList.splice(t,1)}).catch(function(){})},addUserClose:function(t){var e=this;this.$confirm("确认关闭？").then(function(a){t(),e.$refs.addUserDialog.resetForm("form"),e.queryUsers()}).catch(function(t){})}},mounted:function(){this.queryLoggers()},components:{userDialog:a("VU/8")(r,s,!1,function(t){a("csM1")},"data-v-781776d0",null).exports,tablePagination:a("zeeE").a}},l={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"w1200",attrs:{id:"systemmanagement"}},[a("el-container",[a("el-header",[a("el-row",[a("el-col",{staticClass:"stm-header-title",attrs:{span:21}},[a("span",[t._v("系统管理")])])],1)],1),t._v(" "),a("el-main",[a("el-tabs",{attrs:{type:"border-card"},on:{"tab-click":t.changeTabs}},[a("el-tab-pane",{attrs:{label:"日志管理"}},[a("section",[a("el-row",{staticClass:"logger-params"},[a("el-col",{attrs:{span:20}},[a("span",{staticStyle:{color:"#666"}},[t._v("用户操作日志")])]),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"logger-params-input",attrs:{size:"mini",placeholder:"搜索关键词",clearable:""},model:{value:t.parameter.name,callback:function(e){t.$set(t.parameter,"name",e)},expression:"parameter.name"}}),t._v(" "),a("el-button",{staticClass:"search-btn",attrs:{size:"mini"},on:{click:function(e){t.queryLogger()}}},[t._v("搜索")])],1)],1)],1),t._v(" "),a("section",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.loggerList}},[a("el-table-column",{attrs:{type:"expand"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[a("el-form-item",{attrs:{label:"操作内容："}},[a("span",[t._v(t._s(e.row.optionContent))])])],1)]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作人",prop:"optionUser"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作IP",prop:"optionIP"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作名称",prop:"optionName"}}),t._v(" "),a("el-table-column",{attrs:{label:"操作时间",prop:"optionTime"}})],1),t._v(" "),a("div",{staticClass:"el-pagination-wrap text-center"},[a("table-pagination",{attrs:{total:t.count},on:{change:t.changeCurrent}})],1)],1)]),t._v(" "),a("el-tab-pane",{attrs:{label:"用户管理"}},[a("section",[a("el-row",{staticClass:"logger-params"},[a("el-col",{attrs:{span:20}},[a("span",{staticStyle:{color:"#666"}},[t._v("用户列表")]),t._v(" "),a("el-button",{staticStyle:{color:"#666","margin-left":"20px"},attrs:{type:"text",icon:"el-icon-plus"},on:{click:function(e){t.addUser=!0,t.dialogTitle="新增用户"}}},[t._v("添加用户")]),t._v(" "),a("el-dialog",{attrs:{title:t.dialogTitle,visible:t.addUser,width:"400px","before-close":t.addUserClose},on:{"update:visible":function(e){t.addUser=e}}},[a("userDialog",{ref:"addUserDialog"})],1)],1),t._v(" "),a("el-col",{attrs:{span:4}},[a("el-input",{staticClass:"logger-params-input",attrs:{size:"mini",placeholder:"搜索用户",clearable:""},model:{value:t.parameter.name,callback:function(e){t.$set(t.parameter,"name",e)},expression:"parameter.name"}}),t._v(" "),a("el-button",{staticClass:"search-btn",attrs:{size:"mini"},on:{click:function(e){t.queryUser()}}},[t._v("搜索")])],1)],1)],1),t._v(" "),a("section",[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.userList,stripe:""}},[a("el-table-column",{attrs:{prop:"userName",label:"用户名称",align:"center",width:"200px"}}),t._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",align:"center",width:"200px"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"el-icon-edit",staticStyle:{padding:"0px 15px"},attrs:{size:"mini",type:"text"},on:{click:function(e){t.addUser=!0,t.dialogTitle="修改用户"}}},[t._v("修改")]),t._v(" "),a("el-button",{staticClass:"el-icon-delete",staticStyle:{padding:"0px 15px"},attrs:{size:"mini",type:"text"},nativeOn:{click:function(a){a.preventDefault(),t.deleteRow(e.$index,e.row)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"el-pagination-wrap text-center"},[a("table-pagination",{attrs:{total:t.count},on:{change:t.changeCurrent}})],1)],1)])],1)],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")(n,l,!1,function(t){a("WtTm"),a("SzpZ")},null,null);e.default=i.exports}});
//# sourceMappingURL=9.c28bf86e7f0c7b37d968.js.map