webpackJsonp([8],{OaJv:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={data:function(){return{isShowPosition:!1,treeData:[],tableData:[],checkedNode:null,checkedNodeInfo:{},camerasTreeData:[],cameras:[],nearCameras:[],params:{startTime:"",endTime:""}}},mounted:function(){this.getPrisonareatree()},methods:{getPrisonareatree:function(){var t=this;this.$get(this.urlconfig.tmGetPrisonareatree).then(function(e){0===e.status&&(t.treeData=e.data)}).catch(function(t){}).then(function(){})},handleNodeClick:function(t){this.checkedNode=t,this.getCriminals(),this.getTreeNodeInfo(),this.getCameras(),this.getCamerasTreeData()},getCriminals:function(){var t=this,e={nodeId:this.checkedNode.id,nodeType:this.checkedNode.nodeType};this.$post(this.urlconfig.tmGetCriminals,e).then(function(e){0===e.status&&(t.tableData=e.data)}).catch(function(t){}).then(function(){})},getTreeNodeInfo:function(){var t=this,e={id:this.checkedNode.id,nodeType:this.checkedNode.nodeType};this.$post(this.urlconfig.tmGetTreeNodeInfo,e).then(function(e){0===e.status&&(t.checkedNodeInfo=e.data)}).catch(function(t){}).then(function(){})},getCameras:function(){var t=this;if("04"==this.checkedNode.nodeType){var e={paiCode:this.checkedNode.id};this.$post(this.urlconfig.tmGetCameras,e).then(function(e){0===e.status&&(t.cameras=e.data.cameras,t.nearCameras=e.data.nearCameras)}).catch(function(t){}).then(function(){})}},getCamerasTreeData:function(){var t=this;"04"==this.checkedNode.nodeType&&this.$get(this.urlconfig.tmGetCamerasTreeData).then(function(e){0===e.status&&(t.camerasTreeData=e.data)}).catch(function(t){}).then(function(){})},showPosition:function(t,e){var a=this;this.isShowPosition=!0,this.$nextTick(function(){a.$refs.vPosition.getPrisonerBaseInfo(e.criId)})},beforePositionClose:function(){this.isShowPosition=!1},addShowVideo:function(t){this.cameras.indexOf(t)<0&&this.cameras.push(t)},delShowVideo:function(t){var e=this.cameras.indexOf(t);e>-1&&this.cameras.splice(e,1)},showVideoClick:function(t){if("05"==t.nodeType){var e=this.cameras.indexOf(t.id);e<0?this.cameras.push(t.id):this.cameras.splice(e,1)}},queryVideos:function(){var t=this.cameras;this.cameras=[],this.cameras=t},setStartTime:function(t){this.params.startTime=t},setEndTime:function(t){this.params.endTime=t}},components:{"v-position":a("tHJb").a}},i={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"tvmonitor"}},[s("section",{staticClass:"tm-left"},[s("el-tree",{attrs:{data:t.treeData,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"highlight-current":!0},on:{"node-click":t.handleNodeClick},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.node,i=e.data;return s("span",{staticClass:"custom-tree-node"},[0==i.isWarning?s("span",[s("i",{class:a.icon}),t._v(t._s(a.label))]):t._e(),t._v(" "),1==i.isWarning?s("span",[s("i",[s("img",{attrs:{src:t.images.warning}})]),t._v(t._s(a.label))]):t._e()])}}])})],1),t._v(" "),s("section",{staticClass:"tm-right"},[s("el-container",[s("el-main",[s("el-card",{staticClass:"box-card",staticStyle:{height:"865px"}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("平面图/监控视频")])]),t._v(" "),s("div",[null!=t.checkedNode&&"01"!=t.checkedNode.nodeType&&"04"!=t.checkedNode.nodeType?s("section",[s("span",[t._v("平面图")])]):t._e(),t._v(" "),null!=t.checkedNode&&"04"==t.checkedNode.nodeType?s("section",[s("el-row",[s("el-col",{attrs:{span:19}},[null!=t.cameras&&t.cameras.length>0?s("div",[s("el-row",[s("el-col",{attrs:{span:22}},[s("span",[t._v("时间:")]),t._v(" "),s("el-date-picker",{staticStyle:{width:"43%"},attrs:{size:"mini",type:"datetime","value-format":"yyyyMMddHHmmss",placeholder:"开始时间"},on:{change:t.setStartTime},model:{value:t.params.startTime,callback:function(e){t.$set(t.params,"startTime",e)},expression:"params.startTime"}}),t._v(" "),s("span",[t._v("-")]),t._v(" "),s("el-date-picker",{staticStyle:{width:"43%"},attrs:{size:"mini",type:"datetime","value-format":"yyyyMMddHHmmss",placeholder:"结束时间"},on:{change:t.setEndTime},model:{value:t.params.endTime,callback:function(e){t.$set(t.params,"endTime",e)},expression:"params.endTime"}})],1),t._v(" "),s("el-col",{attrs:{span:1}},[s("el-button",{staticClass:"search-btn",attrs:{size:"mini",type:"primary"},on:{click:t.queryVideos}},[t._v("查询")])],1)],1),t._v(" "),s("el-row",{staticStyle:{"margin-right":"20px"}},[s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:12}},t._l(t.cameras,function(e,a){return a%2==0?s("iframe",{key:a,staticStyle:{height:"370px",width:"550px"},attrs:{src:"../ws_rtsp/rtspPlay.jsp?id="+e+"&startTime="+t.params.startTime+"&endTime="+t.params.endTime}}):t._e()})),t._v(" "),s("el-col",{staticStyle:{"text-align":"center"},attrs:{span:12}},t._l(t.cameras,function(e,a){return a%2!=0?s("iframe",{key:a,staticStyle:{height:"370px",width:"550px"},attrs:{src:"../ws_rtsp/rtspPlay.jsp?id="+e+"&startTime="+t.params.startTime+"&endTime="+t.params.endTime}}):t._e()}))],1)],1):s("div",[s("img",{attrs:{src:a("OmQY")}})])]),t._v(" "),s("el-col",{attrs:{span:5}},[s("el-card",{staticClass:"box-card",staticStyle:{height:"220px"},attrs:{shadow:"never"}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("相邻摄像头")])]),t._v(" "),s("div",t._l(t.nearCameras,function(e){return s("el-row",{key:e.ciId},[s("el-col",{attrs:{span:10}},[t._v("\n                          "+t._s(e.ciName)+"\n                        ")]),t._v(" "),s("el-col",{attrs:{span:10}},[s("i",{staticClass:"el-icon-circle-plus-outline",staticStyle:{cursor:"pointer"},on:{click:function(a){t.addShowVideo(e.ciId)}}}),t._v(" "),s("i",{staticClass:"el-icon-remove-outline",staticStyle:{cursor:"pointer"},on:{click:function(a){t.delShowVideo(e.ciId)}}})])],1)}))]),t._v(" "),s("el-card",{staticClass:"box-card",staticStyle:{height:"540px"},attrs:{shadow:"never"}},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("所有摄像头")])]),t._v(" "),s("div",[s("el-tree",{attrs:{data:t.camerasTreeData,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,"highlight-current":!0},on:{"node-click":t.showVideoClick},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.node,i=e.data;return s("span",{staticClass:"custom-tree-node"},[0==i.isWarning?s("span",[s("i",{class:a.icon}),t._v(t._s(a.label))]):t._e(),t._v(" "),1==i.isWarning?s("span",[s("i",[s("img",{attrs:{src:t.images.warning}})]),t._v(t._s(a.label))]):t._e()])}}])})],1)])],1)],1)],1):t._e()])])],1),t._v(" "),s("el-aside",{staticClass:"pn-right-main-aside",staticStyle:{width:"300px"}},[s("el-card",{staticClass:"box-card"},[s("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[s("span",[t._v("人员")])]),t._v(" "),s("div",[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"",height:"768"}},[s("el-table-column",{attrs:{type:"index",width:"50"}}),t._v(" "),s("el-table-column",{attrs:{label:"编号",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text"},on:{click:function(a){t.showPosition(e.$index,e.row)}}},[s("span",[t._v(t._s(e.row.criCode))])])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"姓名",align:"center"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{type:"text"},on:{click:function(a){t.showPosition(e.$index,e.row)}}},[s("span",[t._v(t._s(e.row.criName))])])]}}])})],1)],1)])],1)],1)],1),t._v(" "),s("section",[s("el-dialog",{attrs:{title:"人员定位",visible:t.isShowPosition,width:"1100px","before-close":t.beforePositionClose},on:{"update:visible":function(e){t.isShowPosition=e}}},[s("v-position",{ref:"vPosition"})],1)],1)])},staticRenderFns:[]};var n=a("VU/8")(s,i,!1,function(t){a("U5JJ"),a("vglM")},"data-v-37b5c12a",null);e.default=n.exports},OmQY:function(t,e){t.exports="data:image/png;base64,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"},U5JJ:function(t,e){},vglM:function(t,e){}});
//# sourceMappingURL=8.d22e4f3ff46c91c10d83.js.map