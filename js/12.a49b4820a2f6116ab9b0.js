webpackJsonp([12],{"3zX0":function(e,t,s){e.exports=s.p+"img/pp-p.37dec19.png"},Zg2i:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("mvHQ"),i=s.n(a),n=s("zeeE"),r=s("tHJb"),o={data:function(){return{params:{startTime:new Date((new Date).setHours(0,0,0,0)),endTime:new Date((new Date).setHours(24,0,0,0)),warningEventType:"",superviseType:"",prisonerName:""},count:0,prisonerInfo:{},warningEventTypes:[],superviseTypes:[],ppuTableDatas:[],isShowPosition:!1}},methods:{getWarningEventTypes:function(){var e=this;this.$get(this.urlconfig.spmGetPositionWarningType).then(function(t){0===t.status&&(null!=t.data&&t.data.length>0&&(e.params.warningEventType=t.data[0].sCode),e.warningEventTypes=t.data)}).catch(function(e){}).then(function(){})},getSuperviseTypes:function(){var e=this;this.$get(this.urlconfig.spmgetSuperviseType).then(function(t){0===t.status&&(null!=t.data&&t.data.length>0&&(e.params.superviseType=t.data[0].sCode),e.superviseTypes=t.data)}).catch(function(e){}).then(function(){})},getPosunusualItems:function(){var e=this,t={params:i()(this.params),pageIndex:this.$refs.posunusualPagination.index,pageSize:this.$refs.posunusualPagination.pageSize};this.$post(this.urlconfig.qpwGetPosunusualItems,t).then(function(t){0===t.status&&(e.count=t.data.totalRows,e.ppuTableDatas=t.data.items)}).catch(function(e){}).then(function(){})},clear:function(){var e="",t="";null!=this.warningEventTypes&&this.warningEventTypes.length>0&&(e=this.warningEventTypes[0].sCode),null!=this.superviseTypes&&this.superviseTypes.length>0&&(t=this.superviseTypes[0].sCode),this.params={startTime:new Date((new Date).setHours(0,0,0,0)),endTime:new Date((new Date).setHours(24,0,0,0)),warningEventType:e,superviseType:t,prisonerName:""}},showVideo:function(e,t){var s=this;this.isShowPosition=!0,this.$nextTick(function(){s.$refs.vPosition.getPrisonerBaseInfo(t.prisonerID)})},beforePositionClose:function(){this.isShowPosition=!1},showPrisoner:function(e){var t=this,s={prisonerNum:e.prisonerNum};this.$post(this.urlconfig.qpwGetShowPrisoner,s).then(function(e){0===e.status&&(t.prisonerInfo=e.data)}).catch(function(e){}).then(function(){})},changeCurrent:function(){this.getPosunusualItems()}},mounted:function(){this.getWarningEventTypes(),this.getSuperviseTypes(),this.getPosunusualItems()},components:{tablePagination:n.a,"v-position":r.a}},p={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"posunusual"}},[a("section",{staticClass:"puu-params"},[a("el-row",{staticStyle:{margin:"0px 10px"}},[a("el-col",{attrs:{span:8}},[a("span",[a("span",{staticClass:"puu-params-label"},[e._v("时间:")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"43%"},attrs:{size:"mini",type:"datetime",placeholder:"选择开始时间"},model:{value:e.params.startTime,callback:function(t){e.$set(e.params,"startTime",t)},expression:"params.startTime"}}),e._v(" "),a("span",[e._v("-")]),e._v(" "),a("el-date-picker",{staticStyle:{width:"43%"},attrs:{size:"mini",type:"datetime",placeholder:"选择结束时间"},model:{value:e.params.endTime,callback:function(t){e.$set(e.params,"endTime",t)},expression:"params.endTime"}})],1)]),e._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"puu-params-label"},[e._v("事件类型:")]),e._v(" "),a("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:e.params.warningEventType,callback:function(t){e.$set(e.params,"warningEventType",t)},expression:"params.warningEventType"}},e._l(e.warningEventTypes,function(e){return a("el-option",{key:e.sCode,attrs:{label:e.sName,value:e.sCode}})}))],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("span",{staticClass:"puu-params-label"},[e._v("人员类型:")]),e._v(" "),a("el-select",{attrs:{size:"mini",placeholder:"请选择"},model:{value:e.params.superviseType,callback:function(t){e.$set(e.params,"superviseType",t)},expression:"params.superviseType"}},e._l(e.superviseTypes,function(e){return a("el-option",{key:e.sCode,attrs:{label:e.sName,value:e.sCode}})}))],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("span",{staticClass:"puu-params-label"},[e._v("人员姓名/编号:")]),e._v(" "),a("el-input",{staticClass:"puu-input",attrs:{size:"mini",placeholder:"请输入姓名/编号",clearable:""},model:{value:e.params.prisonerName,callback:function(t){e.$set(e.params,"prisonerName",t)},expression:"params.prisonerName"}})],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("el-button",{staticClass:"search-btn",attrs:{size:"mini",type:"primary"},on:{click:function(t){e.getPosunusualItems()}}},[e._v("查询")])],1),e._v(" "),a("el-col",{attrs:{span:1}},[a("el-button",{staticClass:"search-btn",attrs:{size:"mini",type:"primary"},on:{click:function(t){e.clear()}}},[e._v("清空")])],1)],1)],1),e._v(" "),a("section",{staticClass:"puu-items"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.ppuTableDatas,stripe:""}},[a("el-table-column",{attrs:{label:"预警开始时间",prop:"startTime","min-width":"170px"}}),e._v(" "),a("el-table-column",{attrs:{label:"预警结束时间",prop:"endTime","min-width":"170px"}}),e._v(" "),a("el-table-column",{attrs:{label:"预警时长",prop:"timeLen","min-width":"120px",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"服刑人员姓名",prop:"prisonerName","min-width":"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top",width:"240",trigger:"hover"},on:{show:function(s){e.showPrisoner(t.row)}}},[a("el-row",{staticStyle:{"margin-bottom":"0px"}},[a("el-col",{attrs:{span:11}},[a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("姓名：")]),e._v(e._s(e.prisonerInfo.criName))]),e._v(" "),a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("编码：")]),e._v(e._s(e.prisonerInfo.criCode))]),e._v(" "),a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("性别：")]),e._v(e._s(e.prisonerInfo.criGender))]),e._v(" "),a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("年龄：")]),e._v(e._s(e.prisonerInfo.age)+" 岁")]),e._v(" "),a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("监舍：")]),e._v(e._s(e.prisonerInfo.criPaiCode))]),e._v(" "),a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("服刑类型：")]),e._v(e._s(e.prisonerInfo.criSupervisetype))])]),e._v(" "),a("el-col",{attrs:{span:13}},[a("img",{staticStyle:{width:"140px",height:"90px"},attrs:{src:s("3zX0")}})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("入狱罪行：")]),e._v(e._s(e.prisonerInfo.criAccusation))])]),e._v(" "),a("el-col",{attrs:{span:13}},[a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("服刑日期：")]),e._v(e._s(e.prisonerInfo.criStartdate))])])],1),e._v(" "),a("div",{staticStyle:{color:"#59c4ee"},attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.prisonerName))])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"服刑人员编码",prop:"prisonerNum","min-width":"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-popover",{attrs:{placement:"top",width:"240",trigger:"hover"},on:{show:function(s){e.showPrisoner(t.row)}}},[a("el-row",{staticStyle:{"margin-bottom":"0px"}},[a("el-col",{attrs:{span:11}},[a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("姓名：")]),e._v(e._s(e.prisonerInfo.criName))]),e._v(" "),a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("编码：")]),e._v(e._s(e.prisonerInfo.criCode))]),e._v(" "),a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("性别：")]),e._v(e._s(e.prisonerInfo.criGender))]),e._v(" "),a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("年龄：")]),e._v(e._s(e.prisonerInfo.age)+" 岁")]),e._v(" "),a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("监舍：")]),e._v(e._s(e.prisonerInfo.criPaiCode))]),e._v(" "),a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("互监组：")]),e._v(e._s(e.prisonerInfo.group))])]),e._v(" "),a("el-col",{attrs:{span:13}},[a("img",{staticStyle:{width:"140px",height:"90px"},attrs:{src:s("3zX0")}})])],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:11}},[a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("服刑类型：")]),e._v(e._s(e.prisonerInfo.criSupervisetype))]),e._v(" "),a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("被预警次数：")]),e._v(e._s(e.prisonerInfo.count)+" 次")])]),e._v(" "),a("el-col",{attrs:{span:13}},[a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("入狱罪行：")]),e._v(e._s(e.prisonerInfo.criAccusation))]),e._v(" "),a("div",{staticClass:"puu-item-popover"},[a("span",[e._v("服刑日期：")]),e._v(e._s(e.prisonerInfo.criStartdate))])])],1),e._v(" "),a("div",{staticStyle:{color:"#59c4ee"},attrs:{slot:"reference"},slot:"reference"},[e._v(e._s(t.row.prisonerNum))])],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"服刑人员类型",prop:"prisonerType","min-width":"120px",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"预警事件类型",prop:"warningEventType","min-width":"120px",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"预警所在区域",prop:"warningArea","min-width":"170px"}}),e._v(" "),a("el-table-column",{attrs:{label:"预警视频",fixed:"right",width:"120px",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[""!=t.row.prisonerNum&&null!=t.row.prisonerNum?a("el-button",{staticStyle:{padding:"0px 15px"},attrs:{size:"mini",type:"text"},on:{click:function(s){e.showVideo(t.$index,t.row)}}},[a("span",{staticStyle:{display:"inline-block","line-height":"20px","vertical-align":"middle"}},[e._v("查看")])]):e._e()]}}])})],1),e._v(" "),a("div",{staticClass:"el-pagination-wrap text-center"},[a("table-pagination",{ref:"posunusualPagination",attrs:{total:e.count},on:{change:e.changeCurrent}})],1)],1),e._v(" "),a("section",[a("el-dialog",{attrs:{title:"人员定位",visible:e.isShowPosition,width:"1100px","before-close":e.beforePositionClose},on:{"update:visible":function(t){e.isShowPosition=t}}},[a("v-position",{ref:"vPosition"})],1)],1)])},staticRenderFns:[]};var l=s("VU/8")(o,p,!1,function(e){s("iPzn")},"data-v-28070a21",null);t.default=l.exports},iPzn:function(e,t){}});
//# sourceMappingURL=12.a49b4820a2f6116ab9b0.js.map