{"version":3,"sources":["webpack:///src/components/pages/systemset/cameramanagement/cameramanagement.vue","webpack:///./src/components/pages/systemset/cameramanagement/cameramanagement.vue?72b9","webpack:///./src/components/pages/systemset/cameramanagement/cameramanagement.vue","webpack:///./node_modules/babel-runtime/core-js/get-iterator.js","webpack:///./node_modules/core-js/library/fn/get-iterator.js","webpack:///./node_modules/core-js/library/modules/core.get-iterator.js"],"names":["cameramanagement","components","tablePagination","data","count","prisonSubRegions","cameraTypes","cameraList","current","currentIndex","paramsPaiCode","savePaiCodeTable","paiCodeTable","changeRow","tempSaveData","tempRow","vals","params","paiCode","ciType","ciName","nodeType","mounted","this","getPrisonSubRegions","getCameraTypes","getCameraList","methods","_this","url","$store","state","env","$get","then","res","catch","error","_this2","_this3","pageIndex","$refs","pagination","index","pageSize","limit","stringify_default","$post","totalRows","items","saveCameraInfo","alert","showVideo","row","$el","querySelector","scrollIntoView","changePaiPathFilter","value","_this4","length","getCascaderObj","map","val","changePaiCode","changePaiPathTable","_this5","tempPaiCodeRow","push","label","forEach","ciId","paiPath","join","findIndex","item","opt","_iteratorNormalCompletion","_didIteratorError","_iteratorError","undefined","_step","_iterator","get_iterator_default","next","done","itm","children","err","return","watch","oldval","_this6","cameramanagement_cameramanagement","render","_vm","_h","$createElement","_c","_self","attrs","id","staticClass","_v","span","size","change-on-select","placeholder","options","on","change","model","callback","$$v","expression","$set","_l","key","sCode","sName","clearable","type","click","staticStyle","width","stripe","prop","min-width","align","scopedSlots","_u","fn","scope","$event","$index","directives","name","rawName","blur","_s","fixed","nativeOn","preventDefault","ref","total","_m","staticRenderFns","height","controls","src","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","module","exports","default","__esModule","anObject","get","getIterator","it","iterFn","TypeError","call"],"mappings":"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","file":"js/8.9a4997d802eeba51d756.js","sourcesContent":["<template>\r\n  <div id=\"cameramanager\">\r\n    <p class=\"contentInfo\">摄像头列表</p>\r\n    <section class=\"contentMain\">\r\n      <section class=\"puu-params\">\r\n        <el-row>\r\n          <el-col :span=\"7\">\r\n            <span>所在区域:</span>\r\n            <el-cascader size=\"small\" change-on-select v-model=\"paramsPaiCode\" placeholder=\"请选择\" :options=\"prisonSubRegions\"\r\n              @change=\"changePaiPathFilter\"></el-cascader>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <span>摄像头类型:</span>\r\n            <el-select size=\"small\" v-model=\"params.ciType\" placeholder=\"请选择\">\r\n              <el-option v-for=\"item in cameraTypes\" :key=\"item.sCode\" :label=\"item.sName\" :value=\"item.sCode\"></el-option>\r\n            </el-select>\r\n          </el-col>\r\n          <el-col :span=\"7\">\r\n            <span>摄像头编号/名称:</span>\r\n            <el-input size=\"small\" class=\"pp-input\" v-model=\"params.ciName\" placeholder=\"请输入摄像头编号或名称\" clearable></el-input>\r\n          </el-col>\r\n          <el-col :span=\"3\">\r\n            <el-button type=\"primary\" size=\"small\" class=\"search-btn\" @click=\"getCameraList\">查询</el-button>\r\n            <el-button type=\"primary\" size=\"small\" class=\"search-btn\" @click=\"saveCameraInfo\">保存</el-button>\r\n          </el-col>\r\n        </el-row>\r\n      </section>\r\n      <section class=\"el-table-wrap\">\r\n        <el-table :data=\"cameraList\" stripe style=\"width: 100%;\">\r\n          <el-table-column prop=\"paiPath\" label=\"所在区域\" min-width=\"140px\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <div @click=\"changePaiCode(scope.$index, scope.row)\">\r\n                <el-cascader :change-on-select=\"true\" v-show=\"current === scope.$index\" @blur=\"current=null\" v-model=\"paiCodeTable\"\r\n                  placeholder=\"请选择\" :options=\"prisonSubRegions\" @change=\"changePaiPathTable\">\r\n                </el-cascader>\r\n                <span v-show=\"current !== scope.$index\">{{scope.row.paiPath}}</span>\r\n              </div>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column prop=\"ciId\" label=\"摄像头编号\" min-width=\"80px\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"ciName\" label=\"摄像头名称\" min-width=\"80px\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"ciType\" label=\"摄像头类型\" min-width=\"140px\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"ciNearid\" label=\"相邻摄像头\" min-width=\"140px\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"realtimeUri\" label=\"实时视频服务地址\" min-width=\"140px\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"replayUri\" label=\"回放视频服务地址\" min-width=\"140px\" align=\"center\"></el-table-column>\r\n          <el-table-column prop=\"ciMemo\" label=\"备注\" min-width=\"120px\" align=\"center\"></el-table-column>\r\n          <el-table-column label=\"操作\" fixed=\"right\" width=\"120px\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-button @click.native.prevent=\"showVideo(scope.$index, scope.row)\" type=\"text\">实时视频</el-button>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <div class=\"el-pagination-wrap\">\r\n          <table-pagination :total=\"count\" @change=\"getCameraList\" ref=\"pagination\"></table-pagination>\r\n        </div>\r\n      </section>\r\n      <section class=\"movie-wrap\">\r\n        <video width=\"320\" height=\"240\" controls=\"controls\">\r\n          <source src=\"movie.ogg\" type=\"video/ogg\">\r\n          <source src=\"movie.mp4\" type=\"video/mp4\"> Your browser does not support the video tag.\r\n        </video>\r\n      </section>\r\n    </section>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n  import video from '@/assets/video.png';\r\n  import tablePagination from '@/components/commons/tablePage.vue';\r\n\r\n  export default {\r\n    components: {\r\n      tablePagination\r\n    },\r\n    data() {\r\n      return {\r\n        count: 0, // 查询总数\r\n        prisonSubRegions: [], // 区域树形\r\n        cameraTypes: [], // 摄像头类型\r\n        cameraList: [], // 摄像头列表\r\n        current: null, // 修改当前节点\r\n        currentIndex: \"\", // 当前节点索引\r\n        paramsPaiCode: [], // 筛选当前所在区域\r\n        savePaiCodeTable: [], // table当前所在区域\r\n        paiCodeTable: [], // table当前所在区域所选value\r\n        // tempPaiCodeRow: [], // 保存一下当前点击的所在区域的数据\r\n        changeRow: [],\r\n        tempSaveData: {},\r\n        tempRow: [], // 保存一下当前点击的所在区域的数据\r\n        vals: [],\r\n        params: {\r\n          paiCode: \"\",\r\n          ciType: \"\",\r\n          ciName: \"\",\r\n          nodeType: \"\"\r\n        }\r\n      }\r\n    },\r\n    mounted() {\r\n      this.getPrisonSubRegions();\r\n      this.getCameraTypes();\r\n      this.getCameraList();\r\n    },\r\n    methods: {\r\n      /** 获取所属区域 */\r\n      getPrisonSubRegions: function () {\r\n        let url = this.$store.state.env + \"/prisonRegion.action?method=getPrisonRegionTree\";\r\n        this.$get(url).then((res) => {\r\n          this.prisonSubRegions = res.data;\r\n        }).catch((error) => {\r\n          console.log(error);\r\n        }).then(() => {\r\n          // todo somthing...\r\n        });\r\n      },\r\n      /** 获取摄像头类型 */\r\n      getCameraTypes: function () {\r\n        let url = this.$store.state.env + \"/systemCode.action?method=getCameraType\";\r\n        this.$get(url).then((res) => {\r\n          this.cameraTypes = res.data;\r\n        }).catch((error) => {\r\n          console.log(error);\r\n        }).then(() => {\r\n          // todo somthing...\r\n        });\r\n      },\r\n      /** 获取摄像头列表 */\r\n      getCameraList: function () {\r\n        let data = {\r\n          \"pageIndex\": this.$refs.pagination.index,\r\n          'pageSize': this.$refs.pagination.limit,\r\n          \"params\": JSON.stringify(this.params)\r\n        }\r\n        let url = this.$store.state.env + \"/cameraInfo.action?method=getCameraList\";\r\n        this.$post(url, data).then((res) => {\r\n          this.count = res.data.totalRows;\r\n          this.cameraList = res.data.items;\r\n        }).catch((error) => {\r\n          console.log(error);\r\n        }).then(() => {\r\n          // todo somthing...\r\n        });\r\n      },\r\n      /** 保存摄像头信息 */\r\n      saveCameraInfo: function () {\r\n        let data = this.changeRow;\r\n        let url = this.$store.state.env + \"/cameraInfo.action?method=saveCameraInfo\";\r\n        this.$post(url, data).then((res) => {\r\n          alert(\"保存成功\");\r\n        }).catch((error) => {\r\n          console.log(error);\r\n        }).then(() => {\r\n          // todo somthing...\r\n        });\r\n      },\r\n      /** 查看视频操作 */\r\n      showVideo: function (index, row) {\r\n        this.$el.querySelector(\".movie-wrap\").scrollIntoView();\r\n        // ...\r\n      },\r\n      changePaiPathFilter(value) {\r\n        // 查询时的参数\r\n        this.params.paiCode = value[value.length - 1];\r\n        let tempArry = [];\r\n        tempArry = this.getCascaderObj(value, this.prisonSubRegions);\r\n        tempArry.map(val => {\r\n          // 查询时的参数\r\n          this.params.nodeType = val.nodeType\r\n        })\r\n      },\r\n      /** 修改所在区域 */\r\n      changePaiCode: function (index, row) {\r\n        this.current = index;\r\n        this.currentIndex = index;\r\n        // 保存当前数据,用于在changePaiPathTable方法中判断当前更改的位置\r\n        this.tempRow = row;\r\n      },\r\n      /** table处的改变所在区域,value是选择后的数据 */\r\n      changePaiPathTable(value) {\r\n        let tempPaiCodeRow = [];\r\n        let tempArry = [];\r\n        tempArry = this.getCascaderObj(value, this.prisonSubRegions);\r\n        tempArry.map(val => {\r\n          tempPaiCodeRow.push(val.label)\r\n        });\r\n        this.cameraList.forEach(val => {\r\n          if (this.tempRow.ciId === val.ciId) {\r\n            val.paiPath = tempPaiCodeRow.join(\"/\");\r\n            // 保存时的参数\r\n          }\r\n        })\r\n        this.tempSaveData = {}\r\n        this.tempSaveData = {\r\n          \"ciId\": this.tempRow.ciId,\r\n          \"paiCode\": this.tempRow.paiCode\r\n        }\r\n        // if (this.changeRow.length === 0) { // 第一次操作时\r\n        //   this.changeRow.push(this.tempSaveData);\r\n        // } else {\r\n          let index = this.changeRow.findIndex(item => item.ciId === this.tempRow.ciId);\r\n          if (index > -1) {\r\n            this.changeRow[index] = this.tempSaveData;\r\n          } else {\r\n            this.changeRow.push(this.tempSaveData);\r\n          }\r\n        // }\r\n      },\r\n      // 根据value找到对应的labal\r\n      getCascaderObj(val, opt) {\r\n        return val.map(function (value) {\r\n          for (var itm of opt) {\r\n            if (itm.value == value) {\r\n              opt = itm.children;\r\n              return itm;\r\n            }\r\n          }\r\n          return null;\r\n        });\r\n      }\r\n    },\r\n    watch: {\r\n      savePaiCodeTable: function (val, oldval) {\r\n        this.prisonSubRegions.map((value, index) => {\r\n          if (val === value.value) {\r\n            this.cameraList[this.currentIndex].paiCode = value.label;\r\n          }\r\n        })\r\n        this.currentIndex = null;\r\n      }\r\n    }\r\n  }\r\n\r\n</script>\r\n\r\n<style scoped>\r\n  .el-select {\r\n    width: 58%;\r\n  }\r\n\r\n  .contentInfo {\r\n    margin-left: 2%;\r\n  }\r\n\r\n  .puu-item-popover {\r\n    font-size: 12px;\r\n  }\r\n\r\n  .pp-input {\r\n    width: 50%;\r\n  }\r\n\r\n  .tree-wrap-self {\r\n    display: none;\r\n  }\r\n\r\n</style>\r\n\n\n\n// WEBPACK FOOTER //\n// src/components/pages/systemset/cameramanagement/cameramanagement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"cameramanager\"}},[_c('p',{staticClass:\"contentInfo\"},[_vm._v(\"摄像头列表\")]),_vm._v(\" \"),_c('section',{staticClass:\"contentMain\"},[_c('section',{staticClass:\"puu-params\"},[_c('el-row',[_c('el-col',{attrs:{\"span\":7}},[_c('span',[_vm._v(\"所在区域:\")]),_vm._v(\" \"),_c('el-cascader',{attrs:{\"size\":\"small\",\"change-on-select\":\"\",\"placeholder\":\"请选择\",\"options\":_vm.prisonSubRegions},on:{\"change\":_vm.changePaiPathFilter},model:{value:(_vm.paramsPaiCode),callback:function ($$v) {_vm.paramsPaiCode=$$v},expression:\"paramsPaiCode\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":7}},[_c('span',[_vm._v(\"摄像头类型:\")]),_vm._v(\" \"),_c('el-select',{attrs:{\"size\":\"small\",\"placeholder\":\"请选择\"},model:{value:(_vm.params.ciType),callback:function ($$v) {_vm.$set(_vm.params, \"ciType\", $$v)},expression:\"params.ciType\"}},_vm._l((_vm.cameraTypes),function(item){return _c('el-option',{key:item.sCode,attrs:{\"label\":item.sName,\"value\":item.sCode}})}))],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":7}},[_c('span',[_vm._v(\"摄像头编号/名称:\")]),_vm._v(\" \"),_c('el-input',{staticClass:\"pp-input\",attrs:{\"size\":\"small\",\"placeholder\":\"请输入摄像头编号或名称\",\"clearable\":\"\"},model:{value:(_vm.params.ciName),callback:function ($$v) {_vm.$set(_vm.params, \"ciName\", $$v)},expression:\"params.ciName\"}})],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":3}},[_c('el-button',{staticClass:\"search-btn\",attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.getCameraList}},[_vm._v(\"查询\")]),_vm._v(\" \"),_c('el-button',{staticClass:\"search-btn\",attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.saveCameraInfo}},[_vm._v(\"保存\")])],1)],1)],1),_vm._v(\" \"),_c('section',{staticClass:\"el-table-wrap\"},[_c('el-table',{staticStyle:{\"width\":\"100%\"},attrs:{\"data\":_vm.cameraList,\"stripe\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"paiPath\",\"label\":\"所在区域\",\"min-width\":\"140px\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('div',{on:{\"click\":function($event){_vm.changePaiCode(scope.$index, scope.row)}}},[_c('el-cascader',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.current === scope.$index),expression:\"current === scope.$index\"}],attrs:{\"change-on-select\":true,\"placeholder\":\"请选择\",\"options\":_vm.prisonSubRegions},on:{\"blur\":function($event){_vm.current=null},\"change\":_vm.changePaiPathTable},model:{value:(_vm.paiCodeTable),callback:function ($$v) {_vm.paiCodeTable=$$v},expression:\"paiCodeTable\"}}),_vm._v(\" \"),_c('span',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.current !== scope.$index),expression:\"current !== scope.$index\"}]},[_vm._v(_vm._s(scope.row.paiPath))])],1)]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ciId\",\"label\":\"摄像头编号\",\"min-width\":\"80px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ciName\",\"label\":\"摄像头名称\",\"min-width\":\"80px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ciType\",\"label\":\"摄像头类型\",\"min-width\":\"140px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ciNearid\",\"label\":\"相邻摄像头\",\"min-width\":\"140px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"realtimeUri\",\"label\":\"实时视频服务地址\",\"min-width\":\"140px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"replayUri\",\"label\":\"回放视频服务地址\",\"min-width\":\"140px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"prop\":\"ciMemo\",\"label\":\"备注\",\"min-width\":\"120px\",\"align\":\"center\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"fixed\":\"right\",\"width\":\"120px\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\"},nativeOn:{\"click\":function($event){$event.preventDefault();_vm.showVideo(scope.$index, scope.row)}}},[_vm._v(\"实时视频\")])]}}])})],1),_vm._v(\" \"),_c('div',{staticClass:\"el-pagination-wrap\"},[_c('table-pagination',{ref:\"pagination\",attrs:{\"total\":_vm.count},on:{\"change\":_vm.getCameraList}})],1)],1),_vm._v(\" \"),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"movie-wrap\"},[_c('video',{attrs:{\"width\":\"320\",\"height\":\"240\",\"controls\":\"controls\"}},[_c('source',{attrs:{\"src\":\"movie.ogg\",\"type\":\"video/ogg\"}}),_vm._v(\" \"),_c('source',{attrs:{\"src\":\"movie.mp4\",\"type\":\"video/mp4\"}}),_vm._v(\" Your browser does not support the video tag.\\n      \")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-899cb22a\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/systemset/cameramanagement/cameramanagement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-899cb22a\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./cameramanagement.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cameramanagement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cameramanagement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-899cb22a\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./cameramanagement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-899cb22a\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/systemset/cameramanagement/cameramanagement.vue\n// module id = null\n// module chunks = ","module.exports = { \"default\": require(\"core-js/library/fn/get-iterator\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/babel-runtime/core-js/get-iterator.js\n// module id = BO1k\n// module chunks = 8","require('../modules/web.dom.iterable');\nrequire('../modules/es6.string.iterator');\nmodule.exports = require('../modules/core.get-iterator');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/fn/get-iterator.js\n// module id = fxRn\n// module chunks = 8","var anObject = require('./_an-object');\nvar get = require('./core.get-iterator-method');\nmodule.exports = require('./_core').getIterator = function (it) {\n  var iterFn = get(it);\n  if (typeof iterFn != 'function') throw TypeError(it + ' is not iterable!');\n  return anObject(iterFn.call(it));\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/core-js/library/modules/core.get-iterator.js\n// module id = g8Ux\n// module chunks = 8"],"sourceRoot":""}