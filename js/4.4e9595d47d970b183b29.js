webpackJsonp([4],{"652e":function(t,e){},BGGr:function(t,e){},eLpX:function(t,e,i){t.exports=i.p+"img/area1.a69a1cd.png"},"ioZ+":function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i("eLpX"),n=i.n(a),s=i("nThp"),r=i.n(s),c=i("nNSp"),o=i.n(c),l=i("liws"),h=i.n(l),p={name:"pagination",data:function(){return{index:this.pageIndex,limit:this.pageSize,size:this.total||1,showPrevMore:!1,showNextMore:!1,nextPage:h.a,prevPage:o.a}},props:{perPages:{type:Number,default:5},pageIndex:{type:Number,default:1},pageSize:{type:Number,default:10},total:{type:Number,default:1}},methods:{prev:function(){this.index>1&&this.go(this.index-1)},next:function(){this.index<this.pages&&this.go(this.index+1)},first:function(){1!==this.index&&this.go(1)},last:function(){this.index!=this.pages&&this.go(this.pages)},go:function(t){this.index!==t&&(this.index=t,this.$emit("change",this.index))}},computed:{pages:function(){return Math.ceil(this.size/this.limit)},pagers:function(){var t=[],e=this.perPages,i=this.pages,a=this.index,n=(e-1)/2,s={start:a-n,end:a+n};s.start<1&&(s.end=s.end+(1-s.start),s.start=1),s.end>i&&(s.start=s.start-(s.end-i),s.end=i),s.start<1&&(s.start=1),this.showPrevMore=s.start>1,this.showNextMore=s.end<i;for(var r=s.start;r<=s.end;r++)t.push(r);return t}},watch:{pageIndex:function(t){this.index=t||1},pageSize:function(t){this.limit=t||10},total:function(t){this.size=t||1}}},u={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("ul",{staticClass:"mo-paging"},[i("li",{class:["paging-item","paging-item--prev",{"paging-item--disabled":1===t.index}],on:{click:t.prev}},[i("img",{attrs:{src:t.prevPage,alt:""}})]),t._v(" "),t.showPrevMore?i("li",{class:["paging-item","paging-item--first",{"paging-item--disabled":1===t.index}],on:{click:t.first}},[t._v("1")]):t._e(),t._v(" "),t.showPrevMore?i("li",{class:["paging-item","paging-item--more"]},[t._v("...")]):t._e(),t._v(" "),t._l(t.pagers,function(e){return i("li",{key:e,class:["paging-item",{"paging-item--current":t.index===e}],on:{click:function(i){t.go(e)}}},[t._v(t._s(e))])}),t._v(" "),t.showNextMore?i("li",{class:["paging-item","paging-item--more"]},[t._v("...")]):t._e(),t._v(" "),i("li",{class:["paging-item","paging-item--next",{"paging-item--disabled":t.index===t.pages}],on:{click:t.next}},[i("img",{attrs:{src:t.nextPage,alt:""}})]),t._v(" "),i("li",{class:["paging-item"]},[t._v("\n      共"+t._s(t.pages)+"页\n    ")])],2)])},staticRenderFns:[]};var g={name:"workbench",components:{pagination:i("VU/8")(p,u,!1,function(t){i("BGGr")},"data-v-402073cc",null).exports},data:function(){return this.pieExtend={tooltip:{enterable:!0,trigger:"item",position:"inside",formatter:function(t){var e=t[0]||t;return"<div>"+e.name+'&nbsp;<a class="fontcolor text-decoration" href="/#/personnelposition">'+e.value+"</a>&nbsp;"+e.percent+"%</div>"}},legend:{orient:"vertical",top:"middle",right:"5%"},series:{center:["30%","50%"],label:{show:!1}}},{picItems:[{pic:n.a,des:"1"},{pic:r.a,des:"2"},{pic:r.a,des:"3"},{pic:n.a,des:"4"},{pic:n.a,des:"5"},{pic:r.a,des:"6"}],imgBlock:"",currentPage:1,count:0,items:[],personnum:"",areasDetail:[],pStatus:[],benchChartPieData:[],benchChartbarData:[],preWarningDetil:[],chartSettings:{labelMap:{action:"违规行为",number:"个数",pNumber:"人数"}},histogramExtend:{},chartSettingsPie:{slabelMap:{}},prisonersStutas:[],value1:!0,benchChartPie:{}}},created:function(){},mounted:function(){var t=this;this.imgBlock=this.picItems[0].pic,document.getElementsByClassName("picS")[0].classList.add("curImageLayer"),this.getPSum(),this.getPClass(),this.getPStatus(),this.getPreWarningClass(),this.getList(),this.histogramExtend={color:["#00c6dd","#5867c2"],tooltip:{enterable:!0,position:["20%","20%"],trigger:"axis",formatter:function(e){var i="",a="",n=e[0].dataIndex;t.benchChartbarData.rows[n].detils.map(function(t){i=i+"<div>"+t.detil+"</div>",a=a+'<div>\n                  <a class="fontcolor text-decoration" href="/#/querystats/violation">'+t.number+'</a>\n                  <a class="fontcolor text-decoration" href="/#/querystats/violation">'+t.pNumber+"</a>\n                </div>"});var s=e[0]||e,r=e[1]||e;return'<div class="tooltip-wrap clearfixed">\n                  <div class="tooltip-left fl">\n                    <div class="tooltip-header">分类</div>\n                    '+i+'\n                  </div>\n                  <div class="tooltip-right fr">\n                    <div class="tooltip-header">\n                      <span>'+r.seriesName+"</span>\n                      <span>"+s.seriesName+"</span>\n                    </div>\n                    "+a+"\n                  </div>\n                </div>"}},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:[{type:"category",axisTick:{alignWithLabel:!0}}],yAxis:[{type:"value"}],series:{label:{show:!0,position:"top"},barMaxWidth:30,barGap:0,type:"bar"},legend:{right:"5%"}}},methods:{getPSum:function(){var t=this;this.$ajxj.get("/getPrisonersData").then(function(e){t.areasDetail=e.data.prisonsers,t.personnum=e.data.personnum}).catch(function(t){}).then(function(){})},getPClass:function(){var t=this;this.$ajxj.get("/getBenchChartPie").then(function(e){t.benchChartPieData=e.data.pieData}).catch(function(t){}).then(function(){})},getPStatus:function(){var t=this;this.$ajxj.get("/getPStatus").then(function(e){t.pStatus=e.data}).catch(function(t){}).then(function(){})},getPreWarningClass:function(){var t=this;this.$ajxj.get("/getBenchChartbarData").then(function(e){t.benchChartbarData=e.data.barData,t.preWarningDetil=e.data.detils}).catch(function(t){}).then(function(){})},pieAfterConfig:function(t){return t.legend.formatter=function(e){var i;return t.series[0].data.map(function(t){t.name===e&&(i=t.value)}),e+" "+i},t},displayBImg:function(t,e){for(var i=e.currentTarget,a=[],n=i.parentNode.firstChild;n;n=n.nextSibling)1===n.nodeType&&n!==i&&a.push(n);a.map(function(t){t.classList.remove("curImageLayer")}),i.classList.add("curImageLayer"),this.imgBlock=t},handleCurrentChange:function(t){this.getTableData(t)},handleSizeChange:function(t){},getList:function(){var t=this;this.$ajxj.post("/pPTableData",{currentPage:t.currentPage}).then(function(e){t.count=124,t.items=[1,2,3,4,5,6,7,8,9,10]}).catch(function(t){}).then(function(){})},pageChange:function(t){this.currentPage=t,this.getList()}}},d={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"workbench-wrap w1200"},[i("section",{staticClass:"contentWrap clearfix"},[i("section",{staticClass:"l fl"},[i("section",{staticClass:"item"},[t._m(0),t._v(" "),i("div",{staticClass:"bench-item"},[i("div",{staticClass:"bench-item-left v-c"},[i("router-link",{staticClass:"num-big num-color",attrs:{to:"/personnelposition"}},[t._v(t._s(t.personnum))]),t._v(" "),i("span",[t._v("人")])],1),t._v(" "),i("div",{staticClass:"bench-item-right v-c"},[i("ul",t._l(t.areasDetail,function(e){return i("li",{key:e.area},[i("span",[t._v(t._s(e.area)+"：")]),t._v(" "),i("router-link",{staticClass:"num-color",attrs:{to:"/personnelposition"}},[t._v(t._s(e.pNumItem))]),t._v(" "),i("span",[t._v("人")])],1)}))])])]),t._v(" "),i("section",{staticClass:"item"},[t._m(1),t._v(" "),i("div",{staticClass:"bench-item"},[[i("ve-histogram",{attrs:{data:t.benchChartbarData,height:"100%",width:"100%",extend:t.histogramExtend,settings:t.chartSettings}})]],2)]),t._v(" "),i("section",{staticClass:"item item-pics"},[t._l(t.picItems,function(e){return i("div",{key:e.des,staticClass:"picS",on:{click:function(i){t.displayBImg(e.pic,i)}}},[i("img",{attrs:{src:e.pic,alt:""}})])}),t._v(" "),i("div",{staticClass:"page"},[i("div",{staticClass:"el-pagination-wrap"},[i("pagination",{attrs:{"page-index":t.currentPage,total:t.count},on:{change:t.pageChange}})],1)])],2)]),t._v(" "),i("section",{staticClass:"r fr"},[i("section",{staticClass:"item"},[t._m(2),t._v(" "),i("div",{staticClass:"bench-item"},[[i("ve-pie",{attrs:{data:t.benchChartPieData,settings:t.chartSettingsPie,width:"100%",height:"100%","judge-width":!0,extend:t.pieExtend,"after-config":t.pieAfterConfig}})]],2)]),t._v(" "),i("section",{staticClass:"item"},[t._m(3),t._v(" "),i("div",{staticClass:"bench-item p-status-wrap"},[i("ul",{staticClass:"p-status clearfix"},t._l(t.pStatus,function(e){return i("li",{key:e.status},[i("span",[t._v(t._s(e.status)+":")]),t._v(" "),i("router-link",{staticClass:"num-color",attrs:{to:"/personnelposition"}},[t._v(t._s(e.pNum))]),t._v(" "),i("span",[t._v("人")])],1)}))])]),t._v(" "),i("section",{staticClass:"item item-displayPic-r"},[i("div",{staticClass:"curDisplayPic"},[i("img",{attrs:{src:t.imgBlock,alt:""}})])])])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bench-item-header"},[e("span",[this._v("犯人总数")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bench-item-header"},[e("span",[this._v("预警事件分类")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bench-item-header"},[e("span",[this._v("人员分类")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"bench-item-header"},[e("span",[this._v("人员状态")])])}]};var m=i("VU/8")(g,d,!1,function(t){i("yItN"),i("652e")},"data-v-c670932e",null);e.default=m.exports},nThp:function(t,e,i){t.exports=i.p+"img/area2.7ef36a2.png"},yItN:function(t,e){}});
//# sourceMappingURL=4.4e9595d47d970b183b29.js.map